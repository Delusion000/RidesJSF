<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Buscar Viajes</title>
</h:head>
<h:body>
    <h:form>
        <h3>Selecciona los criterios de b√∫squeda</h3>

        <h:outputLabel for="from" value="Lugar de salida: " />
        <h:selectOneMenu id="from" value="#{rideBean.selectedFrom}">
            <f:selectItems value="#{rideBean.getFromLocation()}" />
        </h:selectOneMenu>

        <h:outputLabel for="to" value="Lugar de llegada: " />
        <h:selectOneMenu id="to" value="#{rideBean.selectedTo}">
            <f:selectItems value="#{rideBean.toLocations}" />
        </h:selectOneMenu>

        <h:outputLabel for="fecha" value="Fecha: " />
        <p:calendar id="fecha" value="#{rideBean.selectedDate}" navigator="false" pattern="dd/MM/yyyy" mode="inline" />

        <p:commandButton value="Buscar" action="#{rideBean.searchRides}" update="resultados" />

        <h:dataTable id="resultados" value="#{rideBean.availableRides}" var="ride">
            <h:column>
                <f:facet name="header">Origen</f:facet>
                #{ride.from}
            </h:column>
            <h:column>
                <f:facet name="header">Destino</f:facet>
                #{ride.to}
            </h:column>
            <h:column>
                <f:facet name="header">Fecha</f:facet>
                <h:outputText value="#{ride.date}">
                    <f:convertDateTime pattern="dd/MM/yyyy" />
                </h:outputText>
            </h:column>
            <h:column>
                <f:facet name="header">Precio</f:facet>
                #{ride.price}
            </h:column>
        </h:dataTable>
    </h:form>
</h:body>
</html>
